<!DOCTYPE html>
<html lang="da">
<head>
<meta charset="UTF-8">
<title>CellarCount 2026 ‚Äì QR & Labels</title>
<style>
body{font-family:Arial;margin:20px;background:#f6f6f6}
table{border-collapse:collapse;width:100%;background:#fff}
th,td{border:1px solid #ccc;padding:6px}
th{background:#eee}
input,button,select{padding:6px;margin:4px}
.label{border:1px solid #000;padding:8px;margin:6px;width:260px;display:inline-block}
</style>
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
</head>
<body>

<h1>üç∑ CellarCount 2026</h1>
<p>ZIP 3 ‚Äì QR-koder & Labels</p>

<label>Reol:
<input id="filterReol" placeholder="fx A"></label>
<label>Hylde:
<input id="filterHylde" placeholder="fx 1 (valgfri)"></label>
<button onclick="renderLabels()">Vis labels</button>

<h3>Labels</h3>
<div id="labels"></div>

<script>
let wines = JSON.parse(localStorage.getItem("cellarcount2026")||"[]");

function renderLabels(){
 const reol=document.getElementById("filterReol").value;
 const hylde=document.getElementById("filterHylde").value;
 const d=document.getElementById("labels");
 d.innerHTML="";

 const filtered = wines.filter(w=>
  (!reol || w.reol===reol) &&
  (!hylde || w.hylde===hylde)
 );

 if(filtered.length===0){
  d.innerHTML="Ingen vine fundet";
  return;
 }

 filtered.forEach(w=>{
  const box=document.createElement("div");
  box.className="label";

  const title=document.createElement("strong");
  title.innerText=w.name;
  box.appendChild(title);
  box.appendChild(document.createElement("br"));

  box.appendChild(document.createTextNode(
   w.type+" ‚Äì "+w.country+" "+w.region
  ));
  box.appendChild(document.createElement("br"));

  box.appendChild(document.createTextNode(
   "Reol "+w.reol+" ¬∑ Hylde "+w.hylde
  ));
  box.appendChild(document.createElement("br"));

  const canvas=document.createElement("canvas");
  QRCode.toCanvas(canvas,w.vinId);
  box.appendChild(canvas);

  d.appendChild(box);
 });
}
</script>
</body>
</html>
